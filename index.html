<!DOCTYPE html>

<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title>The Corona Letter</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <link rel="icon" href="images/husky.png">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Archivo+Narrow:wght@500&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js" charset="utf-8"></script>
  <script>
  var jsonInd;
  $(function(){$.getJSON("/jsonworld",function(b){var e=0;$.each(b.countries_stat,function(b,d){$("<tr><td>"+d.country_name+"</td><td>"+d.cases+"</td><td>"+d.total_recovered+"</td><td>"+d.deaths+"</td></tr>").appendTo("#userdata tbody");e++});$(".a").text(b.world_total.total_cases);$(".b").text(b.world_total.total_recovered);$(".c").text(b.world_total.total_deaths);$(".d").text(b.world_total.new_cases);$(".e").text(e-3);$(".f").text(b.world_total.new_deaths)});$.getJSON("/jsonindia",function(b){jsonInd=b;
  var e=b.total_values.confirmed,f=b.total_values.recovered,d=b.total_values.deaths;$(".x").text(e);$(".y").text(f);$(".z").text(d);$.each(b.state_wise,function(b,d){$("<tr class='here' id="+d.statecode+"><td >"+d.state+"</td><td>"+d.confirmed+"</td><td>"+d.recovered+"</td><td>"+d.deaths+"</td></tr>").appendTo("#indiadata tbody")})})});
  $(document).ready(function(){$(document).on("click",".here",function(a){var b=this.id;$(".slot").slideUp();setTimeout(function(){$(".contain").empty();$.each(jsonInd.state_wise,function(a,c){b==c.statecode&&($(".slotText").text(c.state),$.each(c.district,function(a,b){$("<div class = 'col-4'>"+a+"<p class='text-warning'>Cases: "+b.confirmed+"</p></div>").appendTo("#toAdd")}))});$(".slot").slideDown()},500)});var b=[],e=[],f=[],d=[],g=[],x=[],z=[],A=[],l,m,n;$.getJSON("https://covidapi.info/api/v1/global/count",
  function(a){var y=0;$.each(a.result,function(a,c){0<y&&(x.push(c.confirmed-l),z.push(c.deaths-m),A.push(c.recovered-n),g.push(a.substring(5)));b.push(a.substring(5));l=c.confirmed;e.push(l);m=c.deaths;f.push(m);n=c.recovered;d.push(n);y++})});$(".charts").hide();var p=0;$(".visuals").on("click",function(){if(0==p){$(".charts").show();p=1;Chart.defaults.global.defaultFontColor="white";var a=document.getElementById("myCaseChart").getContext("2d");new Chart(a,{type:"line",data:{labels:b,datasets:[{label:"Number of Cases",
  data:e,backgroundColor:"rgba(240, 173, 78,0.5)",borderColor:"rgba(240, 173, 78,1)",borderWidth:1,borderDash:[5,5]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}});a=document.getElementById("myDeathChart").getContext("2d");new Chart(a,{type:"line",data:{labels:b,datasets:[{label:"Number of Deaths",data:f,backgroundColor:"rgba(217, 83, 79, 0.5)",borderColor:"rgba(217, 83, 79,1)",borderWidth:1,borderDash:[5,5]}]},options:{responsive:!0,maintainAspectRatio:!1,
  scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}});a=document.getElementById("myRecoverChart").getContext("2d");new Chart(a,{type:"line",data:{labels:b,datasets:[{label:"Number of Recoveries",data:d,backgroundColor:"rgba(92, 184, 92,0.5)",borderColor:"rgba(92, 184, 92,1)",borderWidth:1,borderDash:[5,5]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}});a=document.getElementById("myNewCaseChart").getContext("2d");new Chart(a,{type:"bar",data:{labels:g,datasets:[{label:"Number of New Cases per day",
  data:x,backgroundColor:"rgba(240, 173, 78,0.5)",borderColor:"rgba(240, 173, 78,1)",borderWidth:1,borderDash:[5,5]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}});a=document.getElementById("myNewDeathChart").getContext("2d");new Chart(a,{type:"bar",data:{labels:g,datasets:[{label:"Number of New Deaths per day",data:z,backgroundColor:"rgba(217, 83, 79,0.5)",borderColor:"rgba(217, 83, 79,1)",borderWidth:1,borderDash:[5,5]}]},options:{responsive:!0,maintainAspectRatio:!1,
  scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}});a=document.getElementById("myNewRecoverChart").getContext("2d");new Chart(a,{type:"bar",data:{labels:g,datasets:[{label:"Number of New Recoveries per day",data:A,backgroundColor:"rgba(92, 184, 92,0.5)",borderColor:"rgba(92, 184, 92,1)",borderWidth:1,borderDash:[5,5]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}else p=0,$(".charts").hide()});var B=[],C=[],q=[],D=[],E=[],r=[],h=[],k=[],t,u,v;$.getJSON("https://covidapi.info/api/v1/country/IND",
  function(a){var b=0;$.each(a.result,function(a,c){23==c.recovered&&(c.deaths=6);0<b&&(D.push(c.confirmed-t),E.push(c.deaths-u),r.push(c.recovered-v),h.push(a.substring(5)));k.push(a.substring(5));t=c.confirmed;u=c.deaths;v=c.recovered;b++;B.push(t);C.push(u);q.push(v)})});$(".chartsIndia").hide();var w=0;$(".visualsIndia").on("click",function(){if(0==w){$(".chartsIndia").show();w=1;Chart.defaults.global.defaultFontColor="white";var a=document.getElementById("indiaCaseChart").getContext("2d");
  new Chart(a,{type:"line",data:{labels:k,datasets:[{label:"Number of Cases",data:B,backgroundColor:"rgba(240, 173, 78,0.5)",borderColor:"rgba(240, 173, 78,1)",borderWidth:1,borderDash:[5,5]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}});a=document.getElementById("indiaDeathChart").getContext("2d");new Chart(a,{type:"line",data:{labels:k,datasets:[{label:"Number of Deaths",data:C,backgroundColor:"rgba(217, 83, 79, 0.5)",borderColor:"rgba(217, 83, 79,1)",
  borderWidth:1,borderDash:[5,5]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}});a=document.getElementById("indiaRecoverChart").getContext("2d");new Chart(a,{type:"line",data:{labels:k,datasets:[{label:"Number of Recoveries",data:q,backgroundColor:"rgba(92, 184, 92,0.5)",borderColor:"rgba(92, 184, 92,1)",borderWidth:1,borderDash:[5,5]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}});a=document.getElementById("indiaNewCaseChart").getContext("2d");
  new Chart(a,{type:"bar",data:{labels:h,datasets:[{label:"Number of New Cases per day",data:D,backgroundColor:"rgba(240, 173, 78,0.5)",borderColor:"rgba(240, 173, 78,1)",borderWidth:1,borderDash:[5,5]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}});a=document.getElementById("indiaNewDeathChart").getContext("2d");new Chart(a,{type:"bar",data:{labels:h,datasets:[{label:"Number of New Deaths per day",data:E,backgroundColor:"rgba(217, 83, 79,0.5)",borderColor:"rgba(217, 83, 79,1)",
  borderWidth:1,borderDash:[5,5]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}});a=document.getElementById("indiaNewRecoverChart").getContext("2d");new Chart(a,{type:"bar",data:{labels:h,datasets:[{label:"Number of New Recoveries per day",data:r,backgroundColor:"rgba(92, 184, 92,0.5)",borderColor:"rgba(92, 184, 92,1)",borderWidth:1,borderDash:[5,5]}]},options:{responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})}else w=0,$(".chartsIndia").hide()})});

  </script>
  <link rel="stylesheet" href="/css/index.css">
  <style>
    ::-webkit-scrollbar {width: 10px;height: 10px}
    ::-webkit-scrollbar-track {box-shadow: inset 0 0 5px black;border-radius: 0}
    ::-webkit-scrollbar-thumb {background: #2196f3;}
  </style>
</head>

<body>
  <div class="jumbotron">
    <h1>The Corona Letter</h1>
  </div>
  <div class="data row ">
    <div class="col-4 text-warning">
      <h3 class="a">N/A</h3>
      <p>Cases</p>
    </div>
    <div class="col-4 text-success">
      <h3 class="b">N/A</h3>
      <p>Recovered</p>
    </div>
    <div class="col-4 text-danger">
      <h3 class="c">N/A</h3>
      <p>Deaths</p>
    </div>
  </div>
  <div class="data row ">
    <div class="col-4 text-warning">
      <h3 class="d">N/A</h3>
      <p>New Cases</p>
    </div>
    <div class="col-4 text-primary">
      <h3 class="e">N/A</h3>
      <p>Affected Countries</p>
    </div>
    <div class="col-4 text-danger">
      <h3 class="f">N/A</h3>
      <p>New Deaths</p>
    </div>
  </div>
  <div class="visualButton">
    <button class="visuals btn btn-dark" type="button" name="button">Toggle Visuals</button>
  </div>
  <div id="charts" class="row charts">
    <div class="col-lg-6">
      <canvas id="myCaseChart"></canvas>
    </div>
    <div class="col-lg-6">
      <canvas id="myNewCaseChart"></canvas>
    </div>
    <div class="col-lg-6">
      <canvas id="myDeathChart"></canvas>
    </div>
    <div class="col-lg-6">
      <canvas id="myNewDeathChart"></canvas>
    </div>
    <div class="col-lg-6">
      <canvas id="myRecoverChart"></canvas>
    </div>
    <div class="col-lg-6">
      <canvas id="myNewRecoverChart"></canvas>
    </div>
  </div>
  <div class="table-responsive">
    <table id="userdata" class="table table-sm table-striped text-white">
      <thead>
        <th style="width: 40%">Country</th>
        <th style="width: 20%">Total</th>
        <th style="width: 20%">Recovered</th>
        <th style="width: 20%">Deaths</th>
      </thead>
      <tbody>

      </tbody>
    </table>
  </div>
  <h3>COVID-19 INDIAN STATISTICS</h3>
  <div class="data row ">
    <div class="col-4 text-warning">
      <h3 class="x">N/A</h3>
      <p>Confirmed Cases</p>
    </div>
    <div class="col-4 text-success">
      <h3 class="y">N/A</h3>
      <p>Recovered</p>
    </div>
    <div class="col-4 text-danger">
      <h3 class="z">N/A</h3>
      <p>Deaths</p>
    </div>
  </div>
  <div class="visualButton">
    <button class="visualsIndia btn btn-dark" type="button" name="button">Toggle Visuals</button>
  </div>
  <div id="chartsIndia" class="row chartsIndia">
    <div class="col-lg-6">
      <canvas id="indiaCaseChart"></canvas>
    </div>
    <div class="col-lg-6">
      <canvas id="indiaNewCaseChart"></canvas>
    </div>
    <div class="col-lg-6">
      <canvas id="indiaDeathChart"></canvas>
    </div>
    <div class="col-lg-6">
      <canvas id="indiaNewDeathChart"></canvas>
    </div>
    <div class="col-lg-6">
      <canvas id="indiaRecoverChart"></canvas>
    </div>
    <div class="col-lg-6">
      <canvas id="indiaNewRecoverChart"></canvas>
    </div>
  </div>
  <div class="table-responsive">
    <table id="indiadata" class="table table-sm table-striped text-white">
      <thead>
        <th style="width: 40%">State</th>
        <th style="width: 20%">Confirmed</th>
        <th style="width: 20%">Recovered</th>
        <th style="width: 20%">Deaths</th>
      </thead>
      <tbody>

      </tbody>
    </table>
  </div>
  <div class="slot">
    <h5 class="slotText text-white">Click on a state to get district data</h5>
    <div id="toAdd" class="contain row">
    </div>
  </div>
  <div class="neon">
    <form class="" action="/signup" method="get">
      <a href="/signup">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
        Subscribe to the Corona Letter
      </a>
    </form>
  </div>
  <footer>&copy Rittik Sarkar</footer>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
  <script>
  </script>
</body>
</html>
